@page "/questions"
@inject HttpClient Http

<MudText Class="my-2">Have access to the .eml file? Use our <MudLink Href="/">inspector tool</MudLink> to guide you through the process.</MudText>

@if (questionBank != null)
{
<MudGrid>
    <MudItem md="12">
        <QuestionBox questionBank="@questionBank"></QuestionBox>
    </MudItem>
</MudGrid>    
}
<MudDivider Class="my-4"></MudDivider>
<ResultsComponent></ResultsComponent>

@code {
    private QuestionBank questionBank;

    protected async override Task OnInitializedAsync()
    {
        questionBank = new QuestionBank(Http);
        await questionBank.LoadQuestions();
        StateHasChanged();
    }
}
